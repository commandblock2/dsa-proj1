# DSA Project 1 Report
## Implementation
This project was implemented using C++ with CMake build system.  
The implementations of the 3 algorithm are in the 3 .cpp file respectively.  
`common.hpp` contains nessary utils like `swap_copy(), memory_copy(), memory_copy_by_addr()` etc., implemented manually, not copied from standard library.  
`data.hpp` contains the example data and a util function for printing the data to `stdout`. **Note that `<cstdio>` was included for `printf` only.**
To build the project, simply do
```
cd build
# if need to rebuild
# rm -rf ./*
cmake ..
make
# to run
./rank
./insertion
./selection
```

or just simply do `g++ insertion.cpp -o insertion` and same for the rest 2.

### Steps
 1. Describe the algorithms in pseudo code (However I don't have that in my repo here).
 2. Implement the algorithms with naive code that can only sort int array.  
 Eg. 
```
void selection_sort(int* array, int const length)
{
    for (int i = 0; i < length; i++)
    {
        int min_index = i;
        
        for (int j = i + 1; j < last; j++)
            if (array[j] < array[min_index])
                min_index = j;
            
        swap(array[i], array[min_index]);
    }
}
```
 3. Modify the functions to generic functions using template so that they can be applied to other types(including 2d int array).  
 Eg.
```
void selection_sort(iter const first, iter const last)
{
    using param_type = decltype(*first);
    selection_sort(first, last, [](param_type lhs, param_type rhs){ return lhs < rhs;});
}


template <typename iter, typename comp>
void selection_sort(iter const first, iter const last, comp pred)
{
    for (iter i = first; i != last - 1; i++)
    {
        iter min_index = i;
        
        for (iter j = i + 1; j != last; j++)
            if (pred(*j, *min_index))
                min_index = j;
            
        swap_copy(*i, *min_index);
    }
}
```
## Challenges
- Arrays in C++ cannot be swap/assigned by using `=` (equation) sign.  
Solved by using copying byte by byte. (`memory_copy` function in `common.hpp`).
- Dealing with types(SFINAE) especially the ones generated by template and cryptic error messages from C++ compilers.

# Note
- During the process of debugging/implementing, the original code along with the local git repository was accidentally deleted by `rm -rf`, therefore the process of implementing the naive one for 1d int array could not be seen in the commits.  
The current git history only has the rewritten code. The remote `origin` points to a **private** repo to avoid such accident happening again.
- This project has been tested on following platforms:

Platform | Arch | ToolChain | Success
---------|------|----------|---------
GNU/Linux(5.14.9)|x86-64|gcc-11.2.0|true
GNU/Linux(5.14.9)|x86-64|clang-12|true
Microsoft Windows 10|x86-64|MSVC 14.25|true
Android/Linux(3.18.124)|aarch64|clang-13|true
- A copy of compiled binaries on `GNU/Linux(5.14.9)|x86-64|gcc-11.2.0` are in the `build/` directory.
- The equivalent of the generic algorithms(templates, lambdas) can be implemented in Java with interfaces, generic, anonymous clasgos/lambda.
- The algorithm theoretically works all types that has [RandomAccessIterator](https://en.cppreference.com/w/cpp/named_req/RandomAccessIterator), `int[], int[], std::vector<T>, etc.`.
